<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="styles.css">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="script.js"></script>
  <style>

  </style>

</head>


<body class="w3-theme-l4">

    <div style="min-width:400px">
      <div class="w3-bar w3-large w3-theme-d4">
        <a href="#" class="w3-bar-item w3-button"><i class="fa fa-bars"></i></a>
        <span class="w3-bar-item">TEST PROJECT - DATA VISUALIZATION EXAMPLES</span>
        <a href="#" class="w3-bar-item w3-button w3-right"><i class="fa fa-search"></i></a>
      </div>
    </div>

    <details class="w3-padding">
      <summary> Data Viz Project by Anastasia Serebryakova</summary>
      <p> Examples of data visualization using public data about the number
          of Novel Coronavirus (2019-nCoV) cases reported from various countries <br>
      6 February 2020
      </p>
    </details>

    <article class="w3-container w3-content">
      <h1 class="w3-opacity">Example 1 - Collapsible D3 Tree Diagram</h1>
      <div class="w3-panel w3-white w3-card w3-display-container">
          <p class="w3-text-blue-gray">Collapsible D3 Tree Diagram to represent hierarchical data structures. <br>
            Click a node to collapse or expand regions/countries/states. <br>
            Hover over a leaf node (end node) to view information about the number of confirmed coronavirus cases </p>
          <span class="close-btn w3-display-topright w3-padding w3-hover-gray">X</span>
          <div id="tree_example_1"></div>
      </div>
    </article>

    <article class="w3-container w3-content">
      <h1 class="w3-opacity">Example 2 - Interactive Dashboard with Google Data Studio</h1>
      <details>
      <summary>Dataset:</summary>
      <p>The dashboard is based on
         <a href="https://datastudio.google.com/u/0/datasources/cda8ed00-4a50-45ee-8fe7-e77e9ca35dd9" target="_blank">public dataset</a>
      </p>
      </details>
      <div class="w3-panel w3-white w3-card w3-display-container">
            <iframe width="100%" height="600" src="https://datastudio.google.com/embed/reporting/ccd9ded1-f6e7-4ee3-9037-ad7f42449472/page/d4zDB" frameborder="0" style="border:0" allowfullscreen></iframe>
      </div>
    </article>


    <script>

      var countryData = [
        {
          "id": "2019-nCoV Cases",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Hubei",
          "value": 11177
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Zhejiang",
          "value": 661
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Guangdong",
          "value": 632
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Henan",
          "value": 493
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Hunan",
          "value": 463
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Anhui",
          "value": 340
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Jiangxi",
          "value": 333
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Chongqing",
          "value": 300
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Jiangsu",
          "value": 236
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Sichuan",
          "value": 231
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Shandong",
          "value": 230
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Shanghai",
          "value": 193
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Beijing",
          "value": 191
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Fujian",
          "value": 159
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Guangxi",
          "value": 127
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Shaanxi",
          "value": 116
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Hebei",
          "value": 113
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Yunnan",
          "value": 105
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Heilongjiang",
          "value": 95
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Liaoning",
          "value": 70
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Shanxi",
          "value": 66
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Hainan",
          "value": 64
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Gansu",
          "value": 51
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Tianjin",
          "value": 48
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Guizhou",
          "value": 38
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Ningxia",
          "value": 28
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Inner Mongolia",
          "value": 27
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Jilin",
          "value": 23
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Xinjiang",
          "value": 21
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Tibet",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Japan",
          "value": 20
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Thailand",
          "value": 19
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Singapore",
          "value": 18
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Hong Kong",
          "value": 15
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.South Korea",
          "value": 15
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Mainland China.Qinghai",
          "value": 11
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Taiwan",
          "value": 10
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Macau",
          "value": 8
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Malaysia",
          "value": 8
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Vietnam",
          "value": 6
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Australia",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Australia.New South Wales",
          "value": 4
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Australia.Victoria",
          "value": 4
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Australia.Queensland",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Australia.South Australia",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.India",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Philippines",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Cambodia",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Nepal",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Asia & Pacific.Sri Lanka",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Middle East",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Middle East.United Arab Emirates",
          "value": 5
        },
        {
          "id": "2019-nCoV Cases.Europe",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.Europe.Germany",
          "value": 10
        },
        {
          "id": "2019-nCoV Cases.Europe.France",
          "value": 6
        },
        {
          "id": "2019-nCoV Cases.Europe.Italy",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Europe.Russia",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Europe.UK",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.Europe.Finland",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Europe.Spain",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.Europe.Sweden",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.North America",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.North America.Canada",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.North America.Canada.Ontario",
          "value": 3
        },
        {
          "id": "2019-nCoV Cases.North America.Canada.British Columbia",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.North America.US",
          "value": ""
        },
        {
          "id": "2019-nCoV Cases.North America.US.IL",
          "value": 2
        },
        {
          "id": "2019-nCoV Cases.North America.US.MA",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.North America.US.CA",
          "value": 4
        },
        {
          "id": "2019-nCoV Cases.North America.US.WA",
          "value": 1
        },
        {
          "id": "2019-nCoV Cases.North America.US.AZ",
          "value": 1
        }
      ]

      var margin = {top: 20, right: 90, bottom: 30, left: 200},
          width = 1500 - margin.left - margin.right,
          height = 900 - margin.top - margin.bottom;

      // append the svg object to the body of the page
      // appends a 'group' element to 'svg'
      // moves the 'group' element to the top left margin
      var svg = d3.select("#tree_example_1").append("svg")
          .attr("width", width + margin.right + margin.left)
          .attr("height", height + margin.top + margin.bottom)
          .append("g")
          .attr("transform", "translate("
                + margin.left + "," + margin.top + ")");

      var i = 0,
          duration = 500;

      var treemap = d3.tree().size([height, width]);

      var root = treemap(stratify(countryData));
      root.x0 = height / 2;
      root.y0 = 0;

      // Collapse after the second level
      root.children.forEach(collapse);

      update(root);


      var close_btns = Array.prototype.slice.call(document.getElementsByClassName("close-btn"));
      for (i = 0; i < close_btns.length; i++) {
          close_btns[i].addEventListener("click", function() {
              var content = this.nextElementSibling;
              content.classList.toggle("hidden");
          })
      }
     </script>
  </body>
</html>
